# ================================================
# Backend Environment Configuration (.env.example)
# ================================================
# Copy to .env and update with your values
# Never commit .env file with real secrets!

# ================================================
# DATABASE CONFIGURATION
# ================================================

# PostgreSQL Connection String
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://faso_admin:your_secure_password@localhost:5432/faso_travel

# Or individual components:
DB_HOST=localhost
DB_PORT=5432
DB_NAME=faso_travel
DB_USER=faso_admin
DB_PASSWORD=your_secure_password

# Connection pool settings
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_CONNECTION_TIMEOUT=5000

# ================================================
# APPLICATION SETTINGS
# ================================================

# Node Environment (development | production | test)
NODE_ENV=development

# API Server Port
PORT=3000

# API Base URL (for CORS, redirects, etc.)
API_BASE_URL=http://localhost:3000
API_V1_PREFIX=/api/v1

# Frontend URL (for CORS)
FRONTEND_URL=http://localhost:5173

# ================================================
# AUTHENTICATION & SECURITY
# ================================================

# JWT Secrets (generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))")
JWT_SECRET=your_jwt_secret_here_minimum_32_characters
JWT_REFRESH_SECRET=your_jwt_refresh_secret_here_minimum_32_characters

# JWT Expiry
JWT_EXPIRY=24h
JWT_REFRESH_EXPIRY=7d

# Session/Cookie Settings
SESSION_SECRET=your_session_secret_here_minimum_32_characters
COOKIE_SECURE=false # Set to true in production
COOKIE_HTTP_ONLY=true
COOKIE_MAX_AGE=604800000 # 7 days in milliseconds

# Password Salt Rounds (bcrypt)
BCRYPT_ROUNDS=10

# ================================================
# PAYMENT PROCESSING
# ================================================

# Payment Provider Configuration
PAYMENT_PROVIDER=mtn_momo # or stripe, paypal, etc.

# Orange Money
ORANGE_MONEY_API_KEY=your_orange_money_api_key
ORANGE_MONEY_SECRET=your_orange_money_secret
ORANGE_MONEY_MERCHANT_ID=your_merchant_id

# MTN Mobile Money
MTN_MOMO_API_KEY=your_mtn_momo_api_key
MTN_MOMO_SECRET=your_mtn_momo_secret
MTN_MOMO_PRIMARY_KEY=your_primary_key
MTN_MOMO_SECONDARY_KEY=your_secondary_key

# Stripe (if using)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLIC_KEY=pk_test_your_stripe_public_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Payment Settings
PAYMENT_CURRENCY=XOF # Franc CFA
PAYMENT_TIMEOUT=1800 # 30 minutes in seconds
PAYMENT_RETRY_ATTEMPTS=3

# ================================================
# EMAIL CONFIGURATION
# ================================================

# SMTP Server
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false # Set to true for port 465
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password

# Email Settings
EMAIL_FROM=noreply@fasotravel.com
EMAIL_FROM_NAME=FasoTravel
EMAIL_SUPPORT=support@fasotravel.com

# ================================================
# SMS CONFIGURATION
# ================================================

# Twilio
TWILIO_ACCOUNT_SID=your_account_sid
TWILIO_AUTH_TOKEN=your_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# Orange SMS (Africa)
ORANGE_SMS_API_KEY=your_orange_sms_api_key
ORANGE_SMS_LOGIN=your_login

# ================================================
# LOGGING & MONITORING
# ================================================

# Log Level (error | warn | info | debug | trace)
LOG_LEVEL=debug

# Log Format (json | text)
LOG_FORMAT=text

# Request Logging (morgan)
REQUEST_LOG_FORMAT=combined # or: dev, tiny, short, combined

# Sentry (error tracking)
SENTRY_DSN=https://your_sentry_dsn@sentry.io/project_id
SENTRY_ENVIRONMENT=development

# ================================================
# GEOLOCATION & MAPS
# ================================================

# Google Maps API
GOOGLE_MAPS_API_KEY=your_google_maps_api_key

# MapBox (alternative)
MAPBOX_ACCESS_TOKEN=your_mapbox_access_token

# ================================================
# PUSH NOTIFICATIONS
# ================================================

# Firebase Cloud Messaging
FIREBASE_PROJECT_ID=your_firebase_project_id
FIREBASE_PRIVATE_KEY=your_firebase_private_key
FIREBASE_CLIENT_EMAIL=firebase-adminsdk@your_project.iam.gserviceaccount.com

# Or OneSignal
ONESIGNAL_APP_ID=your_onesignal_app_id
ONESIGNAL_API_KEY=your_onesignal_api_key

# ================================================
# CACHING & PERFORMANCE
# ================================================

# Redis (if using)
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# Cache TTL (seconds)
CACHE_TTL_TRIPS=300 # 5 minutes
CACHE_TTL_OPERATORS=3600 # 1 hour
CACHE_TTL_STATIONS=3600 # 1 hour

# ================================================
# FILE UPLOAD & STORAGE
# ================================================

# AWS S3 (for images, documents)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_S3_BUCKET=fasotravel-uploads
AWS_S3_URL=https://fasotravel-uploads.s3.amazonaws.com

# Or Local Storage
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=5242880 # 5MB in bytes

# ================================================
# RATE LIMITING
# ================================================

# API Rate Limiting
RATE_LIMIT_WINDOW=900000 # 15 minutes in milliseconds
RATE_LIMIT_MAX_REQUESTS=100 # per window

# Auth Rate Limiting
AUTH_RATE_LIMIT_WINDOW=900000
AUTH_RATE_LIMIT_MAX_ATTEMPTS=5

# ================================================
# FEATURE FLAGS
# ================================================

# Feature Toggles
FEATURE_TICKET_TRANSFER=true
FEATURE_INSTANT_BOOKING=true
FEATURE_GROUP_BOOKINGS=true
FEATURE_LOYALTY_PROGRAM=false
FEATURE_REFERRAL_PROGRAM=false

# ================================================
# ANALYTICS
# ================================================

# Google Analytics
GOOGLE_ANALYTICS_ID=UA-XXXXXXXXX-X

# Custom Analytics
ANALYTICS_ENABLED=true
ANALYTICS_EVENT_TRACKING=true

# ================================================
# ADMIN & DEBUGGING
# ================================================

# Debug Mode (exposes more details in errors)
DEBUG=false

# Admin Panel
ADMIN_EMAIL=admin@fasotravel.com
ADMIN_PASSWORD=your_admin_password

# Database Debugging
DB_DEBUG=false # Logs all SQL queries
EXPLAIN_QUERIES=false # Use EXPLAIN on queries

# ================================================
# SECURITY HEADERS
# ================================================

CORS_ORIGIN=http://localhost:5173,https://fasotravel.com
CORS_CREDENTIALS=true
CORS_MAX_AGE=86400

# ================================================
# TIME & LOCALE
# ================================================

# Timezone
TZ=Africa/Ouagadougou

# Locale
LOCALE=fr_BF # French Burkina Faso

# ================================================
# BUSINESS RULES
# ================================================

# Seat Holding Duration
SEAT_HOLD_DURATION_MINUTES=30

# Booking Confirmation Timeout
BOOKING_CONFIRMATION_TIMEOUT_MINUTES=60

# Advance Booking Days (how far ahead can users book)
MAX_ADVANCE_BOOKING_DAYS=90

# Minimum Departure Notice (hours)
MIN_DEPARTURE_NOTICE_HOURS=2

# ================================================
# THIRD-PARTY SERVICES
# ================================================

# Weather API (optional)
WEATHER_API_KEY=your_weather_api_key

# Ticket Validation Provider
TICKET_VALIDATION_URL=https://validate.ticketing.provider.com

# Trip Updates Service
TRIP_UPDATES_SERVICE_URL=https://api.trip-updates.provider.com
TRIP_UPDATES_API_KEY=your_api_key

# ================================================
# BACKUP & MAINTENANCE
# ================================================

# Database Backup
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * * # 2 AM daily
BACKUP_RETENTION_DAYS=30

# Log Rotation
LOG_ROTATION_ENABLED=true
LOG_ROTATION_SIZE=10485760 # 10MB
LOG_RETENTION_DAYS=30

# ================================================
# DOCUMENTATION
# ================================================

# Swagger/OpenAPI
SWAGGER_ENABLED=true
SWAGGER_PATH=/api/docs

# GraphQL Playground
GRAPHQL_PLAYGROUND=true
GRAPHQL_PATH=/graphql
